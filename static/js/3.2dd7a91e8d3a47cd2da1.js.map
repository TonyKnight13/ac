{"version":3,"sources":["webpack:///src/page/user/children/myAddress.vue","webpack:///./src/page/user/children/myAddress.vue?c95c","webpack:///./src/page/user/children/myAddress.vue"],"names":["myAddress","name","components","YShelf","data","addressList","dialogTitle","dialogVisible","msg","address_id","address","phone","userId","rules","required","message","trigger","type","pattern","computed","trueORfalse","this","Boolean","methods","closeDilog","form","dialogFormVisible","$refs","resetFields","children_myAddress","render","_vm","_h","$createElement","_c","_self","attrs","title","slot","staticStyle","margin","on","btnClick","$event","update","_v","staticClass","_l","addItem","index","key","_s","icon","size","click","data-id","addressId","del","item","i","padding","text-align","font-size","visible","center","update:visible","close","ref","model","placeholder","value","callback","$$v","$set","expression","disabled","save","userName","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.2dd7a91e8d3a47cd2da1.js","sourcesContent":["<template>\r\n<div>\r\n  <YShelf title=\"收货地址\">\r\n    <span slot=\"right\"><el-button style=\"margin: 0\" @btnClick=\"update()\">添加收货地址</el-button></span>\r\n    <div slot=\"content\" class=\"content\">\r\n      <div class=\"content-title\">\r\n        <span class=\"name\">姓名</span>\r\n        <span class=\"address\">地址</span>\r\n        <span class=\"phont\">电话</span>\r\n      </div>\r\n      <div v-if=\"addressList.length\">\r\n        <div class=\"address-item\" v-for=\"(addItem,index) in addressList\" :key=\"index\">\r\n          <div class=\"name\">{{addItem.name}}</div>\r\n          <div class=\"address\">{{addItem.address}}</div>\r\n          <div class=\"phone\">{{addItem.phone}}</div>\r\n          <div class=\"operation\">\r\n            <el-button type=\"primary\" icon=\"edit\" size=\"small\"  @click=\"update(addItem)\"></el-button>\r\n            <el-button type=\"danger\" icon=\"delete\" size=\"small\" :data-id=\"addItem.addressId\" @click=\"del(item.addressId,i)\"></el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-else>\r\n        <div style=\"padding: 80px 0;text-align: center\">\r\n          <div style=\"font-size: 20px\">你还未添加收货地址</div>\r\n          <div style=\"margin: 20px \">\r\n            <el-button @click=\"dialogVisible = true\">添加地址</el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </YShelf>\r\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" center @close=\"closeDilog('msg')\">\r\n      <!-- <div slot=\"content\" class=\"md\" :data-id=\"msg.addressId\"> -->\r\n        <el-form :model=\"msg\" ref=\"msg\" :rules=\"rules\" :data-id=\"msg.addressId\">\r\n          <el-form-item>\r\n            <el-input placeholder=\"收货人姓名\" v-model=\"msg.name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-input placeholder=\"手机号码\" v-model=\"msg.phone\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-input placeholder=\"收货地址\" v-model=\"msg.address\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-button \r\n        class=\"btn\"\r\n        :disabled=trueORfalse\r\n        @click=\"save({userId:userId,addressId:msg.addressId,userName:msg.name,phone:msg.phone,address:msg.address})\">\r\n        保存</el-button>\r\n\r\n      <!-- </div> -->\r\n      <!-- <span>这是一段信息</span> -->\r\n    </el-dialog>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n// import { addressList, addressUpdate, addressAdd, addressDel } from '/api/goods'\r\n// import { getStore } from '/utils/storage'\r\nimport YShelf from '@/components/shelf';\r\nexport default {\r\n  name: 'MyAddress',\r\n  components:{\r\n    YShelf\r\n  },\r\n  data () {\r\n    return {\r\n      addressList:[],\r\n      dialogTitle:\"修改收货地址\",\r\n      dialogVisible:true,\r\n      msg: {\r\n        address_id: '',\r\n        name: '',\r\n        address: '',\r\n        phone: '',\r\n      },\r\n      userId: '',\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '请输入姓名', trigger: 'blur' }\r\n        ],\r\n        address: [\r\n          { required: true, message: '请输入地址', trigger: 'blur' }\r\n        ],\r\n        phone: [\r\n          { required: true, message: '手机号不能为空', trigger: 'blur' },\r\n          { type: 'string', pattern: /^1[3|4|5|7|8][0-9]{9}$/, message: '手机号格式出错', trigger: 'blur' }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    trueORfalse () {\r\n      let msg = this.msg\r\n      \r\n      return  !Boolean(msg.name && msg.phone && msg.address)\r\n    }\r\n  },\r\n  methods: {\r\n    closeDilog:function(form){\r\n        this.dialogFormVisible = false;\r\n        this.$refs[form].resetFields();//将form表单重置\r\n    },\r\n  //   message (m) {\r\n  //     this.$message.error({\r\n  //       message: m\r\n  //     })\r\n  //   },\r\n  //   _addressList () {\r\n  //     addressList({userId: this.userId}).then(res => {\r\n  //       let data = res.result\r\n  //       if (data.length) {\r\n  //         this.addList = res.result\r\n  //         this.addressId = res.result[0].addressId || '1'\r\n  //       } else {\r\n  //         this.addList = []\r\n  //       }\r\n  //     })\r\n  //   },\r\n  //   _addressUpdate (params) {\r\n  //     addressUpdate(params).then(res => {\r\n  //       this._addressList()\r\n  //     })\r\n  //   },\r\n  //   _addressAdd (params) {\r\n  //     addressAdd(params).then(res => {\r\n  //       if (res.success === true) {\r\n  //         this._addressList()\r\n  //       } else {\r\n  //         this.message(res.message)\r\n  //       }\r\n  //     })\r\n  //   },\r\n\r\n  //   // 保存\r\n  //   save (obj) {\r\n  //     this.popupOpen = false\r\n  //     if (obj.addressId) {\r\n  //       this._addressUpdate(obj)\r\n  //     } else {\r\n  //       delete obj.addressId\r\n  //       this._addressAdd(obj)\r\n  //     }\r\n  //   },\r\n\r\n  //   // 删除\r\n  //   del (addressId, i) {\r\n  //     addressDel({addressId: addressId}).then(res => {\r\n  //       if (res.success === true) {\r\n  //         this.addressList.splice(i, 1)\r\n  //       } else {\r\n  //         this.message('删除失败')\r\n  //       }\r\n  //     })\r\n  //   },\r\n\r\n  //   // 修改\r\n  //   update(item){\r\n  //     this.dialogVisible=true;\r\n  //     if(item){\r\n  //       this.dialogTitle = '修改收货地址'\r\n  //       this.msg.name = item.name\r\n  //       this.msg.phone = item.phone\r\n  //       this.msg.address = item.address\r\n  //       this.msg.addressId = item.addressId\r\n  //     }else {\r\n  //       this.popupTitle = '新增收货地址'\r\n  //       this.msg.name = ''\r\n  //       this.msg.phone = ''\r\n  //       this.msg.address = ''\r\n  //       this.msg.addressId = ''\r\n  //     }\r\n  //   }\r\n  // },\r\n  // created () {\r\n  //   this.userId = getStore('userId')\r\n  //   this._addressList()\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.content-title{\r\n  position: relative;\r\n  z-index: 1;\r\n  line-height: 0.8rem;\r\n  height: 0.8rem;\r\n  padding: 0 0 0 0rem;\r\n  font-size: 12px;\r\n  background: #eee;\r\n  border-bottom: 1px solid #dbdbdb;\r\n  border-bottom-color: rgba(0, 0, 0, .08);\r\n}\r\n.content-title span {\r\n  text-align: center;\r\n  color: #838383;\r\n  width: 3rem;\r\n  display: inline-block;\r\n}\r\n.content-title .address {\r\n  width: 5rem\r\n}\r\n.content-title .tel {\r\n\r\n}\r\n\r\n.operation{\r\n  width: 1rem;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/user/children/myAddress.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('YShelf',{attrs:{\"title\":\"收货地址\"}},[_c('span',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('el-button',{staticStyle:{\"margin\":\"0\"},on:{\"btnClick\":function($event){return _vm.update()}}},[_vm._v(\"添加收货地址\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"content\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('div',{staticClass:\"content-title\"},[_c('span',{staticClass:\"name\"},[_vm._v(\"姓名\")]),_vm._v(\" \"),_c('span',{staticClass:\"address\"},[_vm._v(\"地址\")]),_vm._v(\" \"),_c('span',{staticClass:\"phont\"},[_vm._v(\"电话\")])]),_vm._v(\" \"),(_vm.addressList.length)?_c('div',_vm._l((_vm.addressList),function(addItem,index){return _c('div',{key:index,staticClass:\"address-item\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(addItem.name))]),_vm._v(\" \"),_c('div',{staticClass:\"address\"},[_vm._v(_vm._s(addItem.address))]),_vm._v(\" \"),_c('div',{staticClass:\"phone\"},[_vm._v(_vm._s(addItem.phone))]),_vm._v(\" \"),_c('div',{staticClass:\"operation\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"edit\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.update(addItem)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"delete\",\"size\":\"small\",\"data-id\":addItem.addressId},on:{\"click\":function($event){return _vm.del(_vm.item.addressId,_vm.i)}}})],1)])}),0):_c('div',[_c('div',{staticStyle:{\"padding\":\"80px 0\",\"text-align\":\"center\"}},[_c('div',{staticStyle:{\"font-size\":\"20px\"}},[_vm._v(\"你还未添加收货地址\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"20px\"}},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\"添加地址\")])],1)])])])]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible,\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":function($event){return _vm.closeDilog('msg')}}},[_c('el-form',{ref:\"msg\",attrs:{\"model\":_vm.msg,\"rules\":_vm.rules,\"data-id\":_vm.msg.addressId}},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"收货人姓名\"},model:{value:(_vm.msg.name),callback:function ($$v) {_vm.$set(_vm.msg, \"name\", $$v)},expression:\"msg.name\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"手机号码\"},model:{value:(_vm.msg.phone),callback:function ($$v) {_vm.$set(_vm.msg, \"phone\", $$v)},expression:\"msg.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"收货地址\"},model:{value:(_vm.msg.address),callback:function ($$v) {_vm.$set(_vm.msg, \"address\", $$v)},expression:\"msg.address\"}})],1)],1),_vm._v(\" \"),_c('el-button',{staticClass:\"btn\",attrs:{\"disabled\":_vm.trueORfalse},on:{\"click\":function($event){return _vm.save({userId:_vm.userId,addressId:_vm.msg.addressId,userName:_vm.msg.name,phone:_vm.msg.phone,address:_vm.msg.address})}}},[_vm._v(\"\\r\\n        保存\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-17908be8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/user/children/myAddress.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-17908be8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./myAddress.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./myAddress.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./myAddress.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-17908be8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./myAddress.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-17908be8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/user/children/myAddress.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}