<!DOCTYPE html>
<html lang="en">
<head>    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>个人中心</title>   
    <!-- Bootstrap -->
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css" >
    <link href="css/style.css" rel="stylesheet" type="text/css" media="all"/>
    <link rel="stylesheet" href="css/flexslider.css" type="text/css" media="screen" />
    <script type="text/javascript" src="bootstrap/js/jquery-1.11.3.min.js"></script>
	<script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/head.js"></script>
</head>
<style type="text/css">
    .zuoce a{
        color:#3a3333;
    }
    .con4 .btn{
      margin-left: 28px;
     width: 80px;
     height: 20px;
     line-height: 10px;
     text-align: center;
     background: #f1ad48;
     display: block;
     font-size: 10px;
     border-radius: 5px;
}
.upload{
     float: left;
     position: relative;
}
.upload_pic{
     display: block;
     width: 100%;
     height: auto;
     position: absolute;
     left: 0;
     top: 0;
     opacity: 0;
     border-radius: 5px;
}
    body{background:#f5f5f5; }
</style>
<body>
<!--主体-->
<div class="gerenzhongxin" style="background: #f5f5f5;height: 600px;width:1000px;margin-left: 280px;margin-top: 50px">
    <div class="zuoce" style="display:inline-block;width: 100px;height: 600px;background: #ffffff">
    <div class="geren" style="font-family:微软雅黑; margin-left: 20px;color:#3a3333">
        <h4 style="padding-top: 20px">个人设置</h4>
        <h6><a herf="" >个人资料</a></h6>
        <h6><a herf="" >修改密码</a></h6>    
    </div>
    <div class="shoucang" style="font-family:微软雅黑; margin-left: 20px;color:#3a3333">
        <h4 style="padding-top: 20px">我的收藏</h4>
        <h6><a herf="" >收藏百科</a></h6>  
        <h6><a herf=""  >收藏宠物</a></h6>   
    </div>
    <div class="jiaoyi" style="font-family:微软雅黑; margin-left: 20px;color:#3a3333">
        <h4 style="padding-top: 20px">交易管理</h4>
        <h6><a herf="" >交易记录</a></h6>
        <h6><a herf="" >退货记录</a></h6>
        <h6><a herf="">收藏商品</a></h6> 
    </div>
    <div class="xiaoxi" style="font-family:微软雅黑; margin-left: 20px;color:#3a3333">
        <h4 style="padding-top: 20px">消息管理</h4>
        <h6><a target="_blank" href="http://wpa.qq.com/msgrd?v=3&amp;uin=1045304560&amp;site=qq&amp;menu=yes&amp;from=message&amp;isappinstalled=0" title="即刻发送您的需求" >联系客服</a></h6>
        <h6><a herf="" >系统通知</a></h6>  
    </div>
   </div>
   <div class="youce" style="width: 600px;height:600px;display:inline-block;vertical-align: top">
    <div class="ziliao" style="background: #ffffff;width: 400px;height: 150px;margin-left: 50px;display:inline-block;">
       <div class="touxiang" id="tx" style="width:100px;height:100px;border-radius:100%;margin-top:20px;display:inline-block;overflow:hidden;margin-left: 20px;border: 1px solid #000;">
        <canvas id="cvs" ></canvas>
       </div> 
       <div class="username" id="username" style="display:inline-block;vertical-align: top;margin-top:30px;font-size: 15px;font-weight:500;font-family: 宋体">
           <table width="180" cellpadding="0" cellspacing="0" align="center">
           <tr>
           <td style="color: #f1ad48">anjixiaoying</td>
            <td>欢迎回来!</td>
         </tr>
       </table>
           <a href="" style="color: #0099cc;font-size: 15px">修改个人资料</a>
       </div>
       <div class="con4"><span class="btn upload">上传头像<input type="file" class="upload_pic" id="upload" /></span></div>
       <script>
//获取上传按钮
var input1 = document.getElementById("upload"); 
 
if(typeof FileReader==='undefined'){ 
     //result.innerHTML = "抱歉，你的浏览器不支持 FileReader"; 
     input1.setAttribute('disabled','disabled'); 
}else{ 
     input1.addEventListener('change',readFile,false); 
     /*input1.addEventListener('change',function (e){
      console.log(this.files);//上传的文件列表
     },false); */
}
function readFile(){ 
  var file = this.files[0];//获取上传文件列表中第一个文件
  if(!/image\/\w+/.test(file.type)){
  //图片文件的type值为image/png或image/jpg
    alert("文件必须为图片！");
    return false; 
  } 
  // console.log(file);
  var reader = new FileReader();//实例一个文件对象
  reader.readAsDataURL(file);//把上传的文件转换成url
  //当文件读取成功便可以调取上传的接口
  reader.onload = function(e){ 
    // console.log(this.result);//文件路径
    // console.log(e.target.result);//文件路径
    /*var data = e.target.result.split(',');
    var tp = (file.type == 'image/png')? 'png': 'jpg';
    var imgUrl = data[1];//图片的url，去掉(data:image/png;base64,)
    //需要上传到服务器的在这里可以进行ajax请求
    // console.log(imgUrl);
    // 创建一个 Image 对象 
    var image = new Image();
    // 创建一个 Image 对象 
    // image.src = imgUrl;
    image.src = e.target.result;
    image.onload = function(){
      document.body.appendChild(image);
    }*/

    var image = new Image();
    // 设置src属性 
    image.src = e.target.result;
    var max=200;
    // 绑定load事件处理器，加载完成后执行，避免同步问题
    image.onload = function(){ 
      // 获取 canvas DOM 对象 
      var canvas = document.getElementById("cvs"); 
      // 如果高度超标 宽度等比例缩放 *= 
      /*if(image.height > max) {
        image.width *= max / image.height; 
        image.height = max;
      } */
      // 获取 canvas的 2d 环境对象, 
      var ctx = canvas.getContext("2d"); 
      // canvas清屏 
      ctx.clearRect(0, 0, canvas.width, canvas.height); 
      // 重置canvas宽高
      /*canvas.width = image.width;
      canvas.height = image.height;
      if (canvas.width>max) {canvas.width = max;}*/
      // 将图像绘制到canvas上
      // ctx.drawImage(image, 0, 0, image.width, image.height);
      ctx.drawImage(image, 0, 0, 200, 200);
      // 注意，此时image没有加入到dom之中
    };  
  }
};
</script>
    </div>
    <div class="sc" style="width:350px;height: 150px;background: #ffffff;display:inline-block;vertical-align: top;margin-top: -150px;margin-left: 500px">
        <p style="font-family:微软雅黑;font-size: 15px;font-weight: 500;padding: 15px; ">我的收藏</p>
    </div>
    <div class="shangcheng" style="width: 800px;height: 100px;background: #ffffff;margin-left: 50px;">
          <table width="1400" cellpadding="0" cellspacing="0" align="center">
           <tr>
           <td style="color:#3a3333;font-family:微软雅黑;font-size: 15px;font-weight: 500;padding: 15px;">近期商城订单</td>
            <td><a herf="" style="color:#3a3333;">查看全部商城订单>></a></td>
         </tr>
       </table>
       <a href="shop.html" style="color:#0099cc; margin-left:350px;padding-top: 75px;">去商城看看</a>
    </div>
     <div class="fuwu" style="width: 800px;height: 100px;background: #ffffff;margin-left: 50px;margin-top: 15px">
          <table width="1400" cellpadding="0" cellspacing="0" align="center">
           <tr>
           <td style="color:#3a3333;font-family:微软雅黑;font-size: 15px;font-weight: 500;padding: 15px;">近期服务订单</td>
            <td><a herf="" style="color:#3a3333;">查看全部服务订单>></a></td>
         </tr>
       </table>
        <table style="width:350px;cellpadding:0;cellspacing:0;align:center;margin-left: 250px">
           <tr>
           <td><a herf="" style="color:#0099cc">去寄养专区看看</a></td>
            <td ><a herf="" style="color:#0099cc">去婚介专区看看</a></td>
         </tr>
       </table>
    </div>
    <div class="lishi" style="width: 800px;height: 100px;background: #ffffff;margin-left: 50px;margin-top: 15px">
         <p style="color:#3a3333;font-family:微软雅黑;font-size: 15px;font-weight: 500;margin-left:20px;">浏览历史</p>
    </div>
   </div>
</div>
</body>
</html>
